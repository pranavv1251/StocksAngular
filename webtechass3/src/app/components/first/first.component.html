<!-- <router-outlet></router-outlet> -->
<!-- <app-header></app-header>
<h2>Stock Search</h2>
<input id="newSearch">
<button (click) = 'addTicker()' [routerLink]="['/search']">Search</button>
<h3 *ngFor="let item of demo2">
  <b>{{item.ticker}}</b>
</h3>
<app-footer></app-footer> -->

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<link
  rel="stylesheet"
  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
/>
<div
  style="
    display: flex;
    min-height: calc(100vh - 62px);
    flex-direction: column;
    justify-content: space-between;
  "
>
  <div id="heading">STOCK SEARCH</div>
  <form (submit)="submit($event); addTicker()">
    <div class="input-group mb-3">
      <input
        #searchBar
        type="text"
        class="form-control shadow-none"
        id="newSearch"
        aria-describedby="inputGroupFileAddon03"
        aria-label="Upload"
        placeholder="Enter stock ticker symbol"
        matInput
        [matAutocomplete]="auto"
        (input)="autoSearch(searchBar.value)"
        value="{{ service.mainTicker }}"
      />
      <span
        class="glyphicon glyphicon-search"
        aria-hidden="true"
        (click)="addTicker()"
      >
      </span>
      <span
        class="glyphicon glyphicon-remove"
        aria-hidden="true"
        style="margin-right: 12px"
        (click)="clearSearch()"
      >
      </span>
    </div>
  </form>

  <mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngIf="service.isLoading" class="is-loading"
      ><mat-progress-spinner
        diameter="25"
        mode="indeterminate"
      ></mat-progress-spinner
    ></mat-option>
    @for (option of service.options; track option) {
    <mat-option [value]="option.displaySymbol" (click)="addTicker()"
      >{{ option.displaySymbol }}|{{ option.description }}</mat-option
    >
    }
  </mat-autocomplete>
  <div class="container" style="margin-top: 14px">
    <div class="alert alert-danger" role="alert" *ngIf="service.showalert">
      No data found. Please enter a valid Ticker
    </div>
  </div>
  <app-ticker></app-ticker>
  <footer
    class="text-center p-3 mt-auto"
    style="
      background-color: #d3d3d3;
      height: 40px;
      width: 100%;
      font-size: 12px;
      color: black;
      padding: 0px;
      margin: 0px;
      font-weight: 600;
    "
  >
    Powered by
    <a
      href="https://finnhub.io/"
      target="_blank"
      style="text-decoration: underline;
      font-size: 12px;"
      >Finnhub.io</a
    >
  </footer>
</div>
<!-- <app-footer></app-footer> -->
<!-- <input
  type="text"
  placeholder="Pick one"
  aria-label="Number"
  matInput
  [matAutocomplete]="auto"
/> -->
<!-- <div
  class="container text-center"
  style="padding-left: 100px; padding-right: 100px"
>
  <div class="row" *ngFor="let item of service.demo2">
    <div class="col-4 col-sm-5 col-md-5 col-lg-5 col-xl-5 col-xxl-5">
      <div class="row justify-content-center">
        <div class="col-3">
          <h1 >
            <b>{{ item.ticker }}</b>
          </h1>
        </div>
        <div class="col-1 justify-content-start">
          <i class='{{starIcon}}'></i>
        </div>
      </div>
      <h2>{{item.name}}</h2>
      <h5>{{item.exchange}}</h5>
      <div class="row justify-content-center">
        <div class="col">
          <button class="btn-success btn-outline-success btn-sm">Buy</button>
        </div>
        <div class="col">
          <button class="btn-danger btn-outline-danger btn-sm">Sell</button>
        </div>
      </div>
    </div>
    <div
      class="col-4 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2"
      id="#logo"
      style="
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 0px;
      "
    >
      <img
        src="{{ item.logo }}"
        class="d-md-none img-fluid"
        style="height: 30%; margin: auto; width: 60%"
      />
      <img
        src="{{ item.logo }}"
        class="d-none d-md-block d-lg-none img-fluid"
        style="height: 56%; margin: auto; width: 100%"
      />
      <img
        src="{{ item.logo }}"
        class="d-none d-md-none d-lg-block d-xl-block d-xxl-block img-fluid"
        style="height: 56%; margin: auto; width: 52%"
      />
    </div>
    <div class="col-4 col-sm-5 col-md-5 col-lg-5 col-xl-5 col-xxl-5" *ngFor="let q of service.quote">
      <h1 >
        <b>{{ q.c }}</b>
      </h1>
      <h3>{{ q.d| number: '.2-2' }} ({{ q.dp| number: '.2-2'}})</h3>
      {{q.t * 1000 | date: 'yyyy-MM-dd hh:mm:ss' }}
    </div>
  </div>
</div>

<h3 *ngFor="let item of service.demo2">
  <b>{{ item.ticker }}</b>
</h3> -->
